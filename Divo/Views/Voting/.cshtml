@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@model Divo.ViewModels.VotingDetailsViewModel
@{
}

<h2>@Model.Voting.Name</h2>
<br />

@if (!Model.Participants.Any())
{
    <div class="alert alert-warning" role="alert">
        <p>
            <strong>Deze stembus heeft nog geen deelnemers, je kan maar 1x deelnemers toevoegen!</strong>
        </p>
    </div>
}
else
{
    <div class="alert alert-warning" role="alert">
        <p>
            <strong>Deze stembus kan nu worden opengezet.</strong>
        </p>
    </div>
}

<div>
    <h4>Stembus informatie</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            Naam:
        </dt>
        <dd class="col-sm-10">
            @Model.Voting.Name
        </dd>
        <dt class="col-sm-2">
            Beschrijving:
        </dt>
        <dd class="col-sm-10">
            @Model.Voting.Description
        </dd>
        <dt class="col-sm-2">
            Open:
        </dt>
        <dd class="col-sm-10">
            @Model.Voting.Active.ToString()
        </dd>
        <dt class="col-sm-2">
            Gesloten:
        </dt>
        <dd class="col-sm-10">
            @Model.Voting.Finished.ToString()
        </dd>
    </dl>
</div>

@if (Model.Participants.Any())
{
    <hr />
    <br />
    <div class="col-md-4">
        <h4>Deelnemers informatie</h4>
        <table class="table">
            @foreach (var participant in Model.Participants)
            {
                <tr>
                    <td>
                        @participant.Party.Name
                    </td>
                    <td>
                        @participant.Party.Description
                    </td>
                </tr>
            }
        </table>
    </div>
}

@*if (User.Identity.IsAuthenticated)
    {*@
@*if (User.IsInRole(RoleName.CanManageMovies))
    {*@
<div class="col-md-4">
    <br />
    <h4>Actions</h4>
    <hr />

    <div>
        @if (Model.Participants.Any())
        {
            <a class="btn btn-info" asp-action="Edit" asp-route-id="@Model.Voting.Id">Stembus Aanpassen</a>
        }
        else
        {
            <a class="btn btn-info" asp-action="Edit" asp-route-id="@Model.Voting.Id">Deelnemers Toevoegen</a>
        }
    </div>

    <div>
        @*<a class="btn btn-info" asp-action="Edit" asp-route-id="@Model.Voting.Id">Edit</a>*@
        @*<a class="btn btn-warning" asp-action="Remove" asp-route-id="@Model.Id">Verwijder</a>*@
    </div>
</div>
@*}*@
@*}*@
<div class="col-md-4">
    <hr />
    <br />
    <div>
        <a class="btn btn-secondary" asp-action="Index">Terug naar de lijst</a>
    </div>
</div>